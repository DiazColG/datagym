<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Cuenta - DataGym</title>
    <link rel="stylesheet" href="mi-cuenta.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Modal Mi Cuenta -->
    <div class="modal-overlay" id="modalMiCuenta">
        <div class="modal-container">
            <!-- Header del Modal -->
            <div class="modal-header">
                <h2><i class="fas fa-user-circle"></i> Mi Cuenta</h2>
                <button class="btn-close" id="btnCerrarModal" aria-label="Cerrar modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Tabs de Navegación -->
            <div class="modal-tabs">
                <button class="tab-button active" data-tab="perfil">
                    <i class="fas fa-user"></i>
                    <span>Perfil</span>
                </button>
                <button class="tab-button" data-tab="objetivos">
                    <i class="fas fa-bullseye"></i>
                    <span>Objetivos</span>
                </button>
                <button class="tab-button" data-tab="configuracion">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </button>
            </div>
            
            <!-- Contenido del Modal -->
            <div class="modal-body">
                
                <!-- TAB 1: PERFIL -->
                <div class="tab-content active" id="tab-perfil">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <img id="profileAvatar" src="" alt="Avatar">
                        </div>
                        <div class="profile-info">
                            <h3 id="profileNombre">Cargando...</h3>
                            <p id="profileEmail"></p>
                        </div>
                    </div>
                    
                    <form id="formEditarPerfil" class="profile-form">
                        <div class="form-section">
                            <h4><i class="fas fa-id-card"></i> Información Personal</h4>
                            
                            <div class="form-group">
                                <label for="editNombre">Nombre Completo</label>
                                <input type="text" id="editNombre" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="editFechaNacimiento">Fecha de Nacimiento</label>
                                    <input type="date" id="editFechaNacimiento" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editEdad">Edad</label>
                                    <input type="text" id="editEdad" readonly disabled>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Género</label>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="editGenero" value="masculino">
                                        <span><i class="fas fa-mars"></i> Masculino</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="editGenero" value="femenino">
                                        <span><i class="fas fa-venus"></i> Femenino</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4><i class="fas fa-weight-scale"></i> Datos Físicos</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="editAltura">Altura (cm)</label>
                                    <input type="number" id="editAltura" min="100" max="250" step="1" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="editPesoActual">Peso Actual (kg)</label>
                                    <input type="number" id="editPesoActual" min="30" max="300" step="0.1" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="editPesoObjetivo">Peso Objetivo (kg)</label>
                                <input type="number" id="editPesoObjetivo" min="30" max="300" step="0.1" required>
                            </div>
                            
                            <div class="imc-display" id="editImcDisplay">
                                <div class="imc-badge">
                                    <strong>IMC:</strong>
                                    <span id="editImcValor">-</span>
                                </div>
                                <div class="imc-categoria" id="editImcCategoria">
                                    <i class="fas fa-info-circle"></i>
                                    <span>-</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4><i class="fas fa-running"></i> Actividad y Objetivos</h4>
                            
                            <div class="form-group">
                                <label for="editNivelActividad">Nivel de Actividad</label>
                                <select id="editNivelActividad" required>
                                    <option value="sedentario">Sedentario (poco ejercicio)</option>
                                    <option value="ligero">Ligero (1-3 días/semana)</option>
                                    <option value="moderado">Moderado (3-5 días/semana)</option>
                                    <option value="activo">Activo (6-7 días/semana)</option>
                                    <option value="muyActivo">Muy Activo (ejercicio intenso diario)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="editObjetivoPrincipal">Objetivo Principal</label>
                                <select id="editObjetivoPrincipal" required>
                                    <option value="perdida">Perder Peso</option>
                                    <option value="mantenimiento">Mantener Peso</option>
                                    <option value="ganancia">Ganar Peso</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="btnCancelarEdicion">
                                <i class="fas fa-times"></i> Cancelar
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Guardar Cambios
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- TAB 2: OBJETIVOS -->
                <div class="tab-content" id="tab-objetivos">
                    <div class="objetivos-header">
                        <h3><i class="fas fa-bullseye"></i> Mis Objetivos Diarios</h3>
                        <p>Basados en tu perfil y nivel de actividad</p>
                    </div>
                    
                    <div class="objetivos-grid">
                        <div class="objetivo-card">
                            <div class="objetivo-icon calorias">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div class="objetivo-info">
                                <h4>Calorías</h4>
                                <div class="objetivo-valor">
                                    <strong id="objCalorias">0</strong> kcal/día
                                </div>
                                <p class="objetivo-descripcion">Meta calórica diaria</p>
                            </div>
                        </div>
                        
                        <div class="objetivo-card">
                            <div class="objetivo-icon proteinas">
                                <i class="fas fa-drumstick-bite"></i>
                            </div>
                            <div class="objetivo-info">
                                <h4>Proteínas</h4>
                                <div class="objetivo-valor">
                                    <strong id="objProteinas">0</strong> g/día
                                </div>
                                <p class="objetivo-descripcion">Proteína recomendada</p>
                            </div>
                        </div>
                        
                        <div class="objetivo-card">
                            <div class="objetivo-icon agua">
                                <i class="fas fa-glass-water"></i>
                            </div>
                            <div class="objetivo-info">
                                <h4>Hidratación</h4>
                                <div class="objetivo-valor">
                                    <strong id="objAgua">0</strong> vasos/día
                                </div>
                                <p class="objetivo-descripcion">
                                    <span id="objAguaLitros">0</span> litros
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="progreso-peso">
                        <h3><i class="fas fa-chart-line"></i> Progreso hacia tu Objetivo</h3>
                        
                        <div class="peso-stats">
                            <div class="peso-stat">
                                <span class="label">Peso Actual:</span>
                                <span class="value" id="progPesoActual">0 kg</span>
                            </div>
                            <div class="peso-stat">
                                <span class="label">Peso Objetivo:</span>
                                <span class="value" id="progPesoObjetivo">0 kg</span>
                            </div>
                            <div class="peso-stat highlight">
                                <span class="label">Diferencia:</span>
                                <span class="value" id="progDiferencia">0 kg</span>
                            </div>
                        </div>
                        
                        <div class="peso-estimacion" id="pesoEstimacion">
                            <i class="fas fa-calendar-days"></i>
                            <p id="estimacionTexto">Tiempo estimado: - semanas</p>
                        </div>
                    </div>
                    
                    <div class="info-box">
                        <i class="fas fa-lightbulb"></i>
                        <div>
                            <strong>Información</strong>
                            <p>Estos objetivos se calculan usando la ecuación Mifflin-St Jeor y se ajustan automáticamente según tu actividad física y meta de peso.</p>
                        </div>
                    </div>
                </div>
                
                <!-- TAB 3: CONFIGURACIÓN -->
                <div class="tab-content" id="tab-configuracion">
                    <div class="config-section">
                        <h4><i class="fas fa-ruler"></i> Unidades de Medida</h4>
                        
                        <div class="config-item">
                            <div class="config-label">
                                <i class="fas fa-weight-scale"></i>
                                <span>Unidad de Peso</span>
                            </div>
                            <select id="configUnidadPeso" class="config-select">
                                <option value="kg">Kilogramos (kg)</option>
                                <option value="lb">Libras (lb)</option>
                            </select>
                        </div>
                        
                        <div class="config-item">
                            <div class="config-label">
                                <i class="fas fa-ruler-vertical"></i>
                                <span>Unidad de Altura</span>
                            </div>
                            <select id="configUnidadAltura" class="config-select">
                                <option value="cm">Centímetros (cm)</option>
                                <option value="in">Pulgadas (in)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="config-section">
                        <h4><i class="fas fa-palette"></i> Apariencia</h4>
                        
                        <div class="config-item">
                            <div class="config-label">
                                <i class="fas fa-moon"></i>
                                <span>Modo Oscuro</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="configModoOscuro">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="config-section">
                        <h4><i class="fas fa-bell"></i> Notificaciones</h4>
                        
                        <div class="config-item">
                            <div class="config-label">
                                <i class="fas fa-droplet"></i>
                                <span>Recordatorios de Agua</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="configNotifAgua">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="config-item">
                            <div class="config-label">
                                <i class="fas fa-dumbbell"></i>
                                <span>Recordatorios de Ejercicio</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="configNotifEjercicio">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="config-section danger-zone">
                        <h4><i class="fas fa-exclamation-triangle"></i> Zona de Peligro</h4>
                        
                        <button class="btn btn-danger" id="btnResetearPerfil">
                            <i class="fas fa-rotate-right"></i>
                            Restablecer Perfil
                        </button>
                        
                        <p class="warning-text">
                            Esto borrará todos tus datos de perfil. Deberás completar el onboarding nuevamente.
                        </p>
                    </div>
                    
                    <div class="config-actions">
                        <button class="btn btn-primary" id="btnGuardarConfig">
                            <i class="fas fa-save"></i> Guardar Configuración
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <script type="module" src="mi-cuenta.js"></script>
</body>
</html>
